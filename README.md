# DataBase_project
 
## Структура базы данных.

База данных состоит из основных таблиц:
* Книга. Содержит в себе вторичный ключ на таблицу хранилище.
* Жанр.
* Автор.
* Хранилище. Он показывает, где хранится книга (книгохранилище, читальный зал и т.д.). 
* Читатель. 
* Заказ (выдача книги). Содержит в себе вторичный ключ на таблицы Книга, Читатель.

И соединительных таблиц:
* Книга-автор. Состоит из вторичных ключей на таблицы Книга, Автор.
* Книга-жанр. Состоит из вторичных ключей на таблицы Книга, Жанр.
Они используются потому что возможна ситуация, когда у одной книги может быть несколько жанров или авторов.
Более подробную структуру вы можете посмотреть на картинке scheme.png

Представления:
* Не возвращенные книги. Все книги, которые находятся в выдаче.
* Книги с истекшим сроком сдачи. Дополнительно приводятся данные о читателе, чтобы можно было с ним связаться и узнать, когда он вернет книгу.

## Содержание файлов

Содержание progect.sql файла(в скобках указаны строчки):
* Создание таблиц(1-67).
* Создание вторичных ключей(70-84).
* Создание представлений(87-104).
* Удаление таблиц базы данных(110-122).
* Выборка последних 10 строк из основных таблиц(124-131).

Содержание data.sql файла - Типовые данные для заполнения таблиц.

Содержание example.sql файла (примеры типовых операций):
* Жанры(5-13).
* Автор(16-24).
* Читатель(27-35).
* Книга(38-56).*
* Выдача(59-66).**

*При работе с Книгой не забывайте что у вам надо установить также Авторов и Жанры.

**В Выдаче нельзя удалять записи, если читатель принес книгу достаточно поменять status с 0 на 1. Также в таблице Выдача автоматически записывается время последнего обновления записи.
